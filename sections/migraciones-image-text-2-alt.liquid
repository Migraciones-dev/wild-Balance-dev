<div class="{{ section.id }}">
  <div class="lg:flex justify-between gap-[29px] max-w-[1600px] my-20 mx-auto lg:px-10">
    <div class="flex flex-col lg:w-1/2 items-start justify-center text-left text-center ">
      <div class="flex flex-col items-start gap-[38px] w-full [@media(max-width:1024px)]:px-6">
        <div class="flex flex-col items-start gap-[13px] w-full">
          {% if section.settings.brand_mark %}
            <div class="flex flex-col items-center gap-2.5 relative mx-auto lg:mx-0">
              {{
                section.settings.brand_mark
                | image_url: width: 600
                | image_tag:
                  loading: 'lazy',
                  alt: section.settings.brand_mark_alt,
                  class: 'relative w-auto h-[27px] sm:h-[37px] lg:h-[47px]'
              }}
            </div>
          {% endif %}

          <div class="relative w-full">
            <h2 class="top-0 left-0 [font-family:'Barlow',Helvetica] font-extrabold text-[#004623] lg:mb-10 text-[30px] sm:text-[38px] md:text-[44px] lg:text-[57px] xl:text-[64px] max-w-[750px] leading-[1]">
              {{ section.settings.heading_before }}
              <span class="highlight">{{ section.settings.heading_highlight }}</span>
              {{ section.settings.heading_after }}
            </h2>
          </div>
        </div>

        {% if section.settings.body_text != blank %}
          <div class="mb-12 lg:mb-16 [font-family:'DM_Sans_18pt-Regular',Helvetica] font-normal text-[#222222] tracking-[0] leading-[30px] text-[14px] lg:text-[18px]">
            {{ section.settings.body_text }}
          </div>
        {% endif %}
      </div>

      <div class="mig-grid w-full">
        <div class="div1 flex gap-3 items-center bg-[#5BC180CC] text-white px-10 w-full rounded-full">
          <svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M13.3389 0.986531C13.5018 0.888552 13.6963 0.857477 13.8816 0.899828C14.0669 0.942178 14.2286 1.05466 14.3327 1.21367L15.0604 2.32364C15.1553 2.46864 15.1959 2.6425 15.175 2.81452C15.1542 2.98654 15.0733 3.14566 14.9465 3.26381L14.9443 3.26675L14.934 3.2763L14.8921 3.31526L14.7267 3.4733C13.8116 4.36103 12.9242 5.27689 12.0657 6.21956C10.4508 7.99551 8.53294 10.3198 7.24214 12.5751C6.88195 13.2043 6.00206 13.3395 5.48015 12.7963L0.713166 7.84335C0.644851 7.77234 0.59151 7.68832 0.556312 7.59629C0.521114 7.50426 0.504778 7.40609 0.508276 7.30762C0.511773 7.20915 0.535032 7.11238 0.57667 7.02308C0.618308 6.93378 0.677475 6.85376 0.750655 6.78777L2.19141 5.48815C2.31802 5.374 2.48037 5.30741 2.65067 5.29976C2.82097 5.29212 2.98863 5.34391 3.12496 5.44625L5.55734 7.26999C9.35696 3.52329 11.5115 2.08547 13.3389 0.986531Z" fill="white"/>
          </svg>
          10% para siempre
        </div>
        <div class="div2 flex gap-3 items-center bg-[#5BC180CC] text-white px-10 w-full">
          <svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M13.3389 0.986531C13.5018 0.888552 13.6963 0.857477 13.8816 0.899828C14.0669 0.942178 14.2286 1.05466 14.3327 1.21367L15.0604 2.32364C15.1553 2.46864 15.1959 2.6425 15.175 2.81452C15.1542 2.98654 15.0733 3.14566 14.9465 3.26381L14.9443 3.26675L14.934 3.2763L14.8921 3.31526L14.7267 3.4733C13.8116 4.36103 12.9242 5.27689 12.0657 6.21956C10.4508 7.99551 8.53294 10.3198 7.24214 12.5751C6.88195 13.2043 6.00206 13.3395 5.48015 12.7963L0.713166 7.84335C0.644851 7.77234 0.59151 7.68832 0.556312 7.59629C0.521114 7.50426 0.504778 7.40609 0.508276 7.30762C0.511773 7.20915 0.535032 7.11238 0.57667 7.02308C0.618308 6.93378 0.677475 6.85376 0.750655 6.78777L2.19141 5.48815C2.31802 5.374 2.48037 5.30741 2.65067 5.29976C2.82097 5.29212 2.98863 5.34391 3.12496 5.44625L5.55734 7.26999C9.35696 3.52329 11.5115 2.08547 13.3389 0.986531Z" fill="white"/>
          </svg>
          10% para siempre
        </div>
        <div class="div3 flex gap-3 items-center bg-[#5BC180CC] text-white px-10 w-full">
          <svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M13.3389 0.986531C13.5018 0.888552 13.6963 0.857477 13.8816 0.899828C14.0669 0.942178 14.2286 1.05466 14.3327 1.21367L15.0604 2.32364C15.1553 2.46864 15.1959 2.6425 15.175 2.81452C15.1542 2.98654 15.0733 3.14566 14.9465 3.26381L14.9443 3.26675L14.934 3.2763L14.8921 3.31526L14.7267 3.4733C13.8116 4.36103 12.9242 5.27689 12.0657 6.21956C10.4508 7.99551 8.53294 10.3198 7.24214 12.5751C6.88195 13.2043 6.00206 13.3395 5.48015 12.7963L0.713166 7.84335C0.644851 7.77234 0.59151 7.68832 0.556312 7.59629C0.521114 7.50426 0.504778 7.40609 0.508276 7.30762C0.511773 7.20915 0.535032 7.11238 0.57667 7.02308C0.618308 6.93378 0.677475 6.85376 0.750655 6.78777L2.19141 5.48815C2.31802 5.374 2.48037 5.30741 2.65067 5.29976C2.82097 5.29212 2.98863 5.34391 3.12496 5.44625L5.55734 7.26999C9.35696 3.52329 11.5115 2.08547 13.3389 0.986531Z" fill="white"/>
          </svg>
          10% para siempre
        </div>
        <div class="div4 flex gap-3 items-center bg-[#5BC180CC] text-white px-10 w-full">
          <svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M13.3389 0.986531C13.5018 0.888552 13.6963 0.857477 13.8816 0.899828C14.0669 0.942178 14.2286 1.05466 14.3327 1.21367L15.0604 2.32364C15.1553 2.46864 15.1959 2.6425 15.175 2.81452C15.1542 2.98654 15.0733 3.14566 14.9465 3.26381L14.9443 3.26675L14.934 3.2763L14.8921 3.31526L14.7267 3.4733C13.8116 4.36103 12.9242 5.27689 12.0657 6.21956C10.4508 7.99551 8.53294 10.3198 7.24214 12.5751C6.88195 13.2043 6.00206 13.3395 5.48015 12.7963L0.713166 7.84335C0.644851 7.77234 0.59151 7.68832 0.556312 7.59629C0.521114 7.50426 0.504778 7.40609 0.508276 7.30762C0.511773 7.20915 0.535032 7.11238 0.57667 7.02308C0.618308 6.93378 0.677475 6.85376 0.750655 6.78777L2.19141 5.48815C2.31802 5.374 2.48037 5.30741 2.65067 5.29976C2.82097 5.29212 2.98863 5.34391 3.12496 5.44625L5.55734 7.26999C9.35696 3.52329 11.5115 2.08547 13.3389 0.986531Z" fill="white"/>
          </svg>
          10% para siempre
        </div>
      </div>
      <style>
        .mig-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 8px;
        }
      </style>

      <!-- Imagen mÃ³vil (carrusel simple 1 imagen) -->

      <div class="flex flex-col items-center lg:items-start gap-4 mx-auto lg:mr-auto lg:ml-0 [@media(max-width:1024px)]:w-full [@media(max-width:1024px)]:px-6">
        {% if section.settings.button_label != blank and section.settings.button_link != blank %}
          <a
            href="{{ section.settings.button_link }}"
            class="shadow h-9 inline-flex items-center justify-center gap-2.5 py-8 px-12 bg-[#ffcd00] rounded-[50px] text-[#004623] hover:bg-[#ffcd00]/90 max-sm:w-full md:w-auto text-[18px]"
          >
            <span class="[font-family:'DM_Sans_18pt-SemiBold',Helvetica] font-semibold text-[#004623] tracking-[0] leading-[26px] text-[18px] lg:text-[18px]">
              {{ section.settings.button_label }}
            </span>
            <svg
              width="22"
              height="23"
              viewBox="0 0 22 23"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              focusable="false"
            >
              <path d="M12.4587 5.25439L17.6686 11.6536M17.6686 11.6536L12.4587 18.0528M17.6686 11.6536L4.27158 11.6536" stroke="#004623" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        {% endif %}
      </div>
      <div class="lg:hidden mb-12 !rounded-lg">
        <div id="drag-scroll-todos" class="cards-container flex space-x-4 overflow-x-auto pb-4 !rounded-lg">
          <div class="!rounded-lg px-4">
            {% if section.settings.mobile_image %}
              {{
                section.settings.mobile_image
                | image_url: width: 1600
                | image_tag:
                  loading: 'lazy',
                  alt: section.settings.mobile_image_alt,
                  class: 'w-full object-cover !rounded-lg mt-10',
                  draggable: 'false'
              }}
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">

    <!-- Slider desktop -->
    <div class="relative max-w-5xl mx-auto object-cover object-center lg:w-1/2 hidden lg:block rounded-lg">
      <div class="swiper-container-img-text overflow-hidden rounded-lg">
        <div class="swiper-wrapper rounded-lg">
          {% if section.blocks.size > 0 %}
            {% for block in section.blocks %}
              {% if block.type == 'slide' and block.settings.slide_image %}
                <div class="swiper-slide flex justify-center" {{ block.shopify_attributes }}>
                  {{
                    block.settings.slide_image
                    | image_url: width: 2000
                    | image_tag: loading: 'lazy', alt: block.settings.slide_image_alt, class: 'w-full object-cover'
                  }}
                </div>
              {% endif %}
            {% endfor %}
          {% else %}
            {% if section.settings.desktop_fallback %}
              <div class="swiper-slide flex justify-center">
                {{
                  section.settings.desktop_fallback
                  | image_url: width: 2000
                  | image_tag: loading: 'lazy', alt: section.settings.desktop_fallback_alt, class: 'w-full object-cover'
                }}
              </div>
            {% endif %}
          {% endif %}
        </div>

        <!-- Flechas (desktop) -->
        <button class="swiper-button-prev hidden hover:none" aria-label="Anterior"></button>
        <button class="swiper-button-next hidden hover:none" aria-label="Siguiente"></button>

        <!-- PaginaciÃ³n (mÃ³vil) -->
        <div class="swiper-pagination block lg:hidden mt-4"></div>
      </div>
    </div>
  </div>
</div>

<script>
  if (typeof Swiper !== 'undefined') {
    const swiper = new Swiper('.swiper-container-img-text', {
      loop: true,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      breakpoints: {
        1024: {
          pagination: false,
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        },
      },
    });
  }
</script>

<style>
  .swiper-button-prev,
  .swiper-button-next {
    color: #00462320;
  }
  /* Escopetado a la secciÃ³n concreta */
  .{{ section.id }} .swiper-button-next:after,
  .swiper-rtl .swiper-button-prev:after {
    content: '' !important;
  }
</style>

{% schema %}
{
  "name": "Migraciones imagen+text 3",
  "settings": [
    {
      "type": "image_picker",
      "id": "brand_mark",
      "label": "Marca/Isotipo sobre el tÃ­tulo"
    },

    {
      "type": "text",
      "id": "heading_before",
      "label": "TÃ­tulo (antes del resaltado)",
      "default": "Encuentra la comida adecuada para"
    },
    {
      "type": "text",
      "id": "heading_highlight",
      "label": "Texto resaltado",
      "default": "tu mascota"
    },
    {
      "type": "text",
      "id": "heading_after",
      "label": "TÃ­tulo (despuÃ©s del resaltado)"
    },
    {
      "type": "richtext",
      "id": "body_text",
      "label": "Texto descriptivo",
      "default": "<p>Â¿Quieres saber el precio exacto de su plan personalizado? Responde un breve formulario con preguntas cortas sobre tu peludo.</p>"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Imagen mÃ³vil"
    },
    {
      "type": "text",
      "id": "mobile_image_alt",
      "label": "Alt imagen mÃ³vil",
      "default": "Imagen mÃ³vil"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Texto del botÃ³n",
      "default": "Haz el test"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Enlace del botÃ³n"
    },

    {
      "type": "image_picker",
      "id": "desktop_fallback",
      "label": "Imagen de escritorio (fallback si no hay bloques)"
    },
    {
      "type": "text",
      "id": "desktop_fallback_alt",
      "label": "Alt imagen escritorio (fallback)",
      "default": "Imagen escritorio"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Diapositiva (desktop)",
      "settings": [
        {
          "type": "image_picker",
          "id": "slide_image",
          "label": "Imagen diapositiva"
        },
        {
          "type": "text",
          "id": "slide_image_alt",
          "label": "Alt imagen diapositiva",
          "default": "Slide desktop"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Migraciones imagen+text 3",
      "blocks": [{ "type": "slide" }]
    }
  ]
}
{% endschema %}
